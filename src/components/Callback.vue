<template>
  <div class="callback-page">
    <h2>ğŸ”— Connexion Revolut</h2>
    <p v-if="success">âœ… Connexion rÃ©ussie !</p>
    <p v-else-if="error">âŒ Erreur: {{ error }}</p>
    <p v-else>â³ Traitement en cours...</p>
  </div>
</template>

<script>
export default {
  name: 'Callback',
  data() {
    return {
      success: false,
      error: null
    }
  },
  mounted() {
    // GÃ©rer le callback OAuth si nÃ©cessaire
    const urlParams = new URLSearchParams(window.location.search);
    const code = urlParams.get('code');
    const error = urlParams.get('error');
    
    if (code) {
      this.success = true;
      console.log('Code OAuth reÃ§u:', code);
      // Rediriger vers la page principale aprÃ¨s 2 secondes
      setTimeout(() => {
        this.$router.push('/');
      }, 2000);
    } else if (error) {
      this.error = error;
    }
  }
}
</script>